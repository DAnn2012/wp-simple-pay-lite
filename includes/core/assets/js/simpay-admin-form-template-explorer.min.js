!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=45)}([function(e,t){e.exports=window.wp.element},function(e,t){e.exports=window.wp.i18n},function(e,t){e.exports=window.wp.components},function(e,t,r){var n=r(15),a=r(16),o=r(10),l=r(17);e.exports=function(e,t){return n(e)||a(e,t)||o(e,t)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=window.wp.primitives},,,function(e,t){e.exports=window.lodash},,function(e,t){e.exports=window.wp.url},function(e,t,r){var n=r(11);e.exports=function(e,t){if(e){if("string"==typeof e)return n(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?n(e,t):void 0}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t,r){var n;!function(){"use strict";var r={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var o=typeof n;if("string"===o||"number"===o)e.push(n);else if(Array.isArray(n)){if(n.length){var l=a.apply(null,n);l&&e.push(l)}}else if("object"===o)if(n.toString===Object.prototype.toString)for(var c in n)r.call(n,c)&&n[c]&&e.push(c);else e.push(n.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(n=function(){return a}.apply(t,[]))||(e.exports=n)}()},,function(e,t){e.exports=function(e){if(Array.isArray(e))return e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=r){var n,a,o=[],_n=!0,l=!1;try{for(r=r.call(e);!(_n=(n=r.next()).done)&&(o.push(n.value),!t||o.length!==t);_n=!0);}catch(e){l=!0,a=e}finally{try{_n||null==r.return||r.return()}finally{if(l)throw a}}return o}},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t,r){var n=r(22),a=r(23),o=r(10),l=r(24);e.exports=function(e){return n(e)||a(e)||o(e)||l()},e.exports.__esModule=!0,e.exports.default=e.exports},,function(e,t){e.exports=window.wp.compose},function(e,t,r){var n=r(11);e.exports=function(e){if(Array.isArray(e))return n(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)},e.exports.__esModule=!0,e.exports.default=e.exports},function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")},e.exports.__esModule=!0,e.exports.default=e.exports},,,,,function(e,t){e.exports=window.wp.a11y},,,,,,,,,function(e,t,r){"use strict";var n=r(0);t.a=function(e){let{icon:t,size:r=24,...a}=e;return Object(n.cloneElement)(t,{width:r,height:r,...a})}},function(e,t,r){"use strict";var n=r(0),a=r(4);const o=Object(n.createElement)(a.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(n.createElement)(a.Path,{d:"M16.7 7.1l-6.3 8.5-3.3-2.5-.9 1.2 4.5 3.4L17.9 8z"}));t.a=o},,,,,,function(e,t,r){"use strict";r.r(t);var n=r(3),a=r.n(n),o=r(18),l=r.n(o),c=r(0),i=r(2),s=r(1),u=r(7),p=r(9),m=simpayFormBuilderTemplateExplorer,f=m.suggestUrl,d=m.addNewUrl,b=m.licenseLevel,y=m.templates,g=Object(p.addQueryArgs)(d,{"simpay-template":"lite"===b?Object(u.find)(y,{slug:"payment-button"}).id:Object(u.find)(y,{slug:"payment-form"}).id}),O="simpay-form-template-explorer-header",j=function(){return Object(c.createElement)("div",{className:O},Object(c.createElement)("h2",{className:"".concat(O,"__title")},Object(s.__)("Select a template","simple-pay")),Object(c.createElement)("p",{className:"".concat(O,"__subtitle")},Object(c.createInterpolateElement)(Object(s.__)("To speed up the process you can select from one of our pre-made templates or start with a <blank>basic form</blank>. Have a suggestion for a new template? <suggest>We'd love to hear it</suggest>!","simple-pay"),{blank:Object(c.createElement)("a",{href:g}),suggest:Object(c.createElement)("a",{href:f,target:"_blank",rel:"noopener noreferrer"})})))},v=r(13),_=r.n(v),x=r(21),h=r(4);Object(c.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(h.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"}));var w=r(38);Object(c.createElement)(h.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},Object(c.createElement)(h.Path,{d:"M13.5 6C10.5 6 8 8.5 8 11.5c0 1.1.3 2.1.9 3l-3.4 3 1 1.1 3.4-2.9c1 .9 2.2 1.4 3.6 1.4 3 0 5.5-2.5 5.5-5.5C19 8.5 16.5 6 13.5 6zm0 9.5c-2.2 0-4-1.8-4-4s1.8-4 4-4 4 1.8 4 4-1.8 4-4 4z"}));var E="simpay-form-template-explorer-main__sidebar";function C(e){var t=e.selectedCategory,r=e.templateCategories,n=e.onClickCategory;return Object(c.createElement)(i.NavigableMenu,{orientation:"vertical",className:"".concat(E,"-categories")},Object.keys(r).sort().map((function(e){return Object(c.createElement)(i.Button,{key:e,label:r[e],className:"".concat(E,"-categories_category"),isPressed:t===e,onClick:function(){n(e)}},r[e])})))}var S=function(e){var t=e.selectedCategory,r=e.templateCategories,n=e.onClickCategory,a=e.filterValue;return Object(c.createElement)("div",{className:E},!a&&Object(c.createElement)(C,{selectedCategory:t,templateCategories:r,onClickCategory:n}))},P=r(29),M=Object(c.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(c.createElement)(h.Path,{d:"M8 5C8 3.34315 9.34315 2 11 2H13C14.6569 2 16 3.34315 16 5V9H18C19.2624 9 20 9.9804 20 11V19C20 20.0196 19.2624 21 18 21H6C4.73763 21 4 20.0196 4 19V11C4 9.9804 4.73763 9 6 9H8V5ZM9.5 9H14.5V5C14.5 4.17157 13.8284 3.5 13 3.5H11C10.1716 3.5 9.5 4.17157 9.5 5V9Z"})),k=r(39),N=simpayFormBuilderTemplateExplorer,L=N.alreadyPurchasedUrl,V=N.licenseLevel,B=N.upgradeUrl,A=function(e){var t=e.template,r=e.setIsShowingUpgradeModal;return Object(c.createElement)(i.Modal,{title:Object(s.__)("Upgrade Required","simple-pay"),onRequestClose:function(){return r(!1)},className:"simpay-form-template-explorer-upgrade"},Object(c.createElement)("div",{className:"".concat("simpay-form-template-explorer-upgrade","__content")},Object(c.createElement)(w.a,{icon:M,size:"48px"}),Object(c.createElement)("h3",{className:"".concat("simpay-form-template-explorer-upgrade","__title")},Object(s.sprintf)(
/* translators: %s Template name */
Object(s.__)('Unlock the "%s" Template',"simple-pay"),t.name)),Object(c.createElement)("p",{className:"".concat("simpay-form-template-explorer-upgrade","__description")},Object(s.sprintf)(
/* translators: %s Template name */
Object(s.__)('We\'re sorry, the "%s" template is not available on your plan. Please upgrade your plan to unlock all these awesome features.',"simple-pay"),t.name)),Object(c.createElement)(i.Button,{isPrimary:!0,variant:"primary",href:Object(p.addQueryArgs)(B,{utm_content:t.name}),target:"_blank",rel:"noopener noreferrer"},"lite"===V?Object(s.__)("Upgrade to Pro","simple-pay"):Object(s.__)("Upgrade Now","simple-pay")),"lite"===V&&Object(c.createElement)("p",{className:"".concat("simpay-form-template-explorer-upgrade","__discount")},Object(c.createElement)(w.a,{icon:k.a}),Object(c.createInterpolateElement)(Object(s.__)("<strong>Bonus:</strong> WP Simple Pay Lite users get <highlight>50%% off</highlight> regular price, automatically applied at checkout.","simple-pay"),{strong:Object(c.createElement)("strong",null),highlight:Object(c.createElement)("u",null)})),Object(c.createElement)("a",{href:L,target:"_blank",rel:"noopener noreferrer"},Object(s.__)("Already purchased?","simple-pay"))))},T=simpayFormBuilderTemplateExplorer,U=T.licenseLevel,H=T.addNewUrl,I="simpay-form-template-explorer-main__content",F=function(e){var t=e.template,r=Object(c.useState)(!1),n=a()(r,2),o=n[0],l=n[1],u=!t.license.includes(U),m=Object(p.addQueryArgs)(H,{"simpay-template":t.id});return Object(c.createElement)(c.Fragment,null,o&&Object(c.createElement)(A,{template:t,setIsShowingUpgradeModal:l}),Object(c.createElement)("div",{key:t.id,className:"".concat(I,"-list-item")},u&&Object(c.createElement)("div",{className:"".concat(I,"-list-item__badge")},Object(s.__)("Pro","simple-pay")),Object(c.createElement)("div",{id:t.id,className:"".concat(I,"-list-item__name")},t.name),Object(c.createElement)("div",{className:"".concat(I,"-list-item__description")},t.description),Object(c.createElement)("div",{className:"".concat(I,"-list-item__actions")},Object(c.createElement)(i.Button,{isPrimary:!0,variant:"primary",href:u?void 0:m,onClick:function(){return u?l(!0):null}},"lite"===U&&"payment-button"===t.slug?Object(s.__)("Create Payment Button","simple-pay"):Object(s.__)("Use Template","simple-pay")),t.url&&!("lite"===U&&"payment-button"===t.slug)&&Object(c.createElement)(i.Button,{isSecondary:!0,variant:"secondary",href:t.url,style:{marginLeft:"10px"}},Object(s.__)("View Demo","simple-pay")))))},W=Object(c.createElement)(h.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Object(c.createElement)(h.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6.68822 16.625L5.5 17.8145L5.5 5.5L18.5 5.5L18.5 16.625L6.68822 16.625ZM7.31 18.125L19 18.125C19.5523 18.125 20 17.6773 20 17.125L20 5C20 4.44772 19.5523 4 19 4H5C4.44772 4 4 4.44772 4 5V19.5247C4 19.8173 4.16123 20.086 4.41935 20.2237C4.72711 20.3878 5.10601 20.3313 5.35252 20.0845L7.31 18.125ZM16 9.99997H8V8.49997H16V9.99997ZM8 14H13V12.5H8V14Z"})),z=simpayFormBuilderTemplateExplorer.suggestUrl,D=function(){return Object(c.createElement)("div",{className:"".concat("simpay-form-template-explorer-main__content","-suggest")},Object(c.createElement)(w.a,{icon:W,size:"42px"}),Object(c.createElement)("div",null,Object(c.createElement)("h4",null,Object(s.__)("We need your help!","simple-pay")),Object(c.createElement)("p",null,Object(c.createInterpolateElement)(Object(s.__)("We're constantly building more pre-made payment form templates to get you up and running even faster. If you have ideas for future templates, please let us know!","simple-pay"),{suggest:Object(c.createElement)("a",{href:z,target:"_blank",rel:"noopener noreferrer"})})),Object(c.createElement)(i.Button,{isSecondary:!0,variant:"secondary",isLink:!0,href:z,target:"_blank"},Object(s.__)("Suggest a Template","simple-pay"))))},Z=r(19),G=r.n(Z),R=function(e){return e.name||""},q=function(e){return e.description||""},Q=function(e){return e.keywords||[]},K=function(e){return e.category};function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return(e=(e=Object(u.deburr)(e)).replace(/^\//,"")).toLowerCase()}var J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return Object(u.words)($(e))},X=function(e,t){return Object(u.differenceWith)(e,J(t),(function(e,t){return t.includes(e)}))};function Y(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=r.getName,a=void 0===n?R:n,o=r.getDescription,l=void 0===o?q:o,c=r.getKeywords,i=void 0===c?Q:c,s=r.getCategory,p=void 0===s?K:s,m=a(e),f=l(e),d=i(e),b=p(e),y=$(t),g=$(m),O=0;if(y===g)O+=30;else if(g.startsWith(y))O+=20;else{var j=[m,f].concat(G()(d),[b]).join(" "),v=Object(u.words)(y),_=X(v,j);0===_.length&&(O+=10)}return O}var ee=simpayFormBuilderTemplateExplorer,te=ee.suggestUrl,re=ee.licenseLevel,ne=function(e){var t=e.filterValue,r=e.selectedCategory,n=e.templates,o=Object(x.useDebounce)(P.speak,500),l=Object(c.useMemo)((function(){var e=n;return t?e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=J(t);if(0===n.length)return e;var o=e.map((function(e){return[e,Y(e,t,r)]})).filter((function(e){return a()(e,2)[1]>0}));return o.sort((function(e,t){var r=a()(e,2)[1];return a()(t,2)[1]-r})),o.map((function(e){return a()(e,1)[0]}))}(n,t):""!==r&&(e=n.filter((function(e){var t=e.categories;return Object.keys(t).includes(r)}))),Object(u.sortBy)(e,(function(e){return!e.license.includes(re)}))}),[t,r,n]);Object(c.useEffect)((function(){if(t){var e=l.length,r=Object(s.sprintf)(
/* translators: %d: number of results. */
Object(s._n)("%d result found.","%d results found.",e,"simple-pay"),e);o(r)}}),[t,o]);var i=!(null==l||!l.length),p=_()("simpay-form-template-explorer-main__content",{"is-empty":!i});return Object(c.createElement)("div",{className:p},!i&&Object(c.createElement)("p",null,Object(c.createInterpolateElement)(Object(s.__)("No results found. Have a suggestion for a new template? <suggest>We'd love to hear it</suggest>!","simple-pay"),{suggest:Object(c.createElement)("a",{href:te,target:"_blank",rel:"noopener noreferrer"})})),i&&Object(c.createElement)(c.Fragment,null,l.map((function(e){return Object(c.createElement)(F,{key:e.slug,template:e})})),Object(c.createElement)(D,null)))};function ae(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(r),!0).forEach((function(t){l()(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ae(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le=simpayFormBuilderTemplateExplorer.templates,ce=le.reduce((function(e,t){return oe(oe({},e),t.categories)}),{"":Object(s.__)("All Templates","simple-pay")});Object(c.render)(Object(c.createElement)((function(){var e=Object(c.useState)(""),t=a()(e,2),r=t[0],n=t[1],o=Object(c.useState)(""),l=a()(o,2),s=l[0],u=l[1];return Object(c.useEffect)((function(){document.querySelector("body").classList.add("simpay-template-explorer-open")}),[]),Object(c.createElement)(i.SlotFillProvider,null,Object(c.createElement)("div",{className:"simpay-form-template-explorer"},Object(c.createElement)(j,null),Object(c.createElement)("div",{className:"".concat("simpay-form-template-explorer","-main")},Object(c.createElement)(S,{selectedCategory:s,templateCategories:ce,onClickCategory:u,filterValue:r,setFilterValue:function(e){n(e),u("")}}),Object(c.createElement)(ne,{templates:le,templateCategories:ce,selectedCategory:s,filterValue:r}))),Object(c.createElement)(i.Popover.Slot,null))}),null),document.getElementById("simpay-form-template-explorer"))}]);